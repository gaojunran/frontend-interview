---
title: JavaScript for-in 和 for-of 的区别是什么？
---

在 JavaScript 中，`for...in` 和 `for...of` 都是用于遍历的循环语句，但它们的用途和行为不同。以下是它们的主要区别：

---

### ✅ 一句话区分：

* **`for...in`**：遍历 **对象的可枚举属性名（键）**
* **`for...of`**：遍历 **可迭代对象的元素（值）**

---

### 📌 `for...in` 详解：

* 遍历的是对象自身和原型链上的**可枚举属性名**（字符串键）。
* 常用于**普通对象**。
* 遍历顺序**不一定按插入顺序**。
* **适用于对象，不推荐用于数组**。

```js
const obj = { a: 1, b: 2 };
for (let key in obj) {
  console.log(key);       // "a", "b"
  console.log(obj[key]);  // 1, 2
}
```

* 如果要排除原型链上的属性，可以使用 `Object.hasOwnProperty()` 方法。

⚠️ 如果用于数组：

```js
const arr = ['x', 'y', 'z'];
arr.foo = 100;

for (let i in arr) {
  console.log(i);      // "0", "1", "2", "foo"
}
```

👉 会遍历自定义属性 `"foo"`，不推荐！

---

### 📌 `for...of` 详解：

* 遍历的是**可迭代对象**（如：数组、字符串、Map、Set、类数组对象等）中的**值**。
* 不能直接用于普通对象（除非实现了 `[Symbol.iterator]`）。
* 不会遍历自定义属性。
* 常用于数组、字符串、Set、Map 等。

```js
const arr = ['x', 'y', 'z'];

for (let value of arr) {
  console.log(value);  // "x", "y", "z"
}
```

---

### ✅ 对比总结：

| 特性         | `for...in`     | `for...of`                    |
| ---------- | -------------- | ----------------------------- |
| 遍历内容       | 属性名（键）         | 元素值（value）                    |
| 可用于对象？     | ✅              | ❌（除非实现了迭代器）                   |
| 可用于数组？     | ⚠️（包含索引和自定义属性） | ✅（只遍历元素值）                     |
| 是否遍历原型链？   | ✅ 是            | ❌ 否                           |
| 是否遍历自定义属性？ | ✅              | ❌                             |
| 是否支持迭代器？   | ❌              | ✅（要求对象实现 `[Symbol.iterator]`） |

---

### 📝 建议使用场景：

* **遍历对象属性：** 使用 `for...in`
* **遍历数组、字符串、Set、Map：** 使用 `for...of`

