---
title: 你对 Vue 生命周期的理解？在 created 和 mounted 这两个生命周期中请求数据有什么区别呢？
---


Vue 的生命周期是指 Vue 实例从创建到销毁的过程，整个过程会触发一系列的钩子函数，我们可以在这些钩子中执行相应的逻辑代码，比如初始化数据、请求接口、操作 DOM 等。

Vue 2 和 Vue 3 生命周期基本一致，主要分为以下几个阶段：

1. **beforeCreate**：组件实例刚被创建，数据、事件等都尚未初始化。
2. **created**：实例已创建，`data`、`computed`、`methods` 等都已经初始化完成，但此时 DOM 还未生成，`$el` 还不可用。
3. **beforeMount**：在挂载之前被调用，`render` 函数首次被调用之前。
4. **mounted**：组件挂载完成，DOM 已经生成并插入页面，此时可以访问并操作真实 DOM。
5. **beforeUpdate / updated**：响应式数据变更导致视图更新时触发。
6. **beforeUnmount / unmounted**（Vue 3）或 **beforeDestroy / destroyed**（Vue 2）：组件卸载或销毁前后的钩子。

---

### **created 和 mounted 请求数据的区别：**

1. **created 中请求数据：**

   * 优点：

     * 请求发生较早，能更快地获取数据。
     * 适合**不依赖 DOM 的场景**，如纯数据获取。
     * 更适合 SSR（服务端渲染），因为服务器不会执行 `mounted`。
   * 缺点：

     * 此时 DOM 尚未生成，无法对 DOM 做操作或依赖 DOM 的请求（如依赖元素宽高的请求）。

2. **mounted 中请求数据：**

   * 优点：

     * DOM 已经挂载完成，可以安全地访问 `$el`。
     * 适合**依赖 DOM 或 DOM 渲染后要做的请求**，例如根据组件高度、滚动条位置等发送请求。
     * 用户打开页面时，首先看到空白组件，组件挂载完成后再去加载数据，数据加载完成后再渲染视图。这种流程符合很多设计/交互规范，便于添加 loading 动画、骨架屏等过渡效果。
   * 缺点：

     * 相较于 `created`，请求稍晚一些，数据加载略慢。

---

### **总结：**

* 如果数据请求**不依赖 DOM**，推荐放在 `created` 中，能尽早发起请求。
* 如果数据请求**依赖于 DOM 的渲染结果**，如需要读取 DOM 尺寸或调用第三方库初始化，推荐放在 `mounted` 中。



