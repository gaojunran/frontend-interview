---
title: v-if 和 v-show 的区别？
---


### 一、核心区别总结

| 特性   | `v-if`              | `v-show`                   |
| ---- | ------------------- | -------------------------- |
| 控制原理 | **动态创建/销毁 DOM 元素**  | **切换元素的 CSS `display` 属性** |
| 初始渲染 | 条件为 false 时，**不渲染** | **始终渲染**，只是隐藏              |
| 切换性能 | 切换开销大（频繁切换不推荐）      | 切换开销小（适合频繁切换）              |
| 编译结果 | 编译为 `if` 分支逻辑       | 编译为含 `display: none` 的元素   |
| 适合场景 | 条件不频繁变化的内容（如权限判断）   | 频繁显示/隐藏的内容（如 Tab 页）        |

---

### 二、详细解释

#### 1. `v-if` 的工作原理

* `v-if` 是**惰性渲染**，当条件为 `false` 时，**对应的 DOM 元素不会存在**。
* 条件变为 `true` 时，Vue 会**真正创建并插入 DOM 元素**；
* 条件再次变为 `false` 时，Vue 会**销毁这些 DOM 元素**。

👉 所以，`v-if` 的切换是有真实 DOM 创建和销毁开销的。

#### 2. `v-show` 的工作原理

* `v-show` 是**初始渲染时就存在元素**，只是根据条件来控制是否添加 `display: none`。
* 条件切换时，不会销毁元素，只是单纯切换 CSS 属性。

👉 所以，`v-show` 的性能更好，适合频繁切换显示/隐藏的场景。

---

### 三、使用建议

* **使用 `v-if` 的场景：**

  * 页面首次加载时不需要渲染的内容
  * 条件复杂、或内容较重，不常切换显示的内容
  * 比如：权限控制、路由控制、弹窗首次加载等

* **使用 `v-show` 的场景：**

  * 高频率显示/隐藏的 UI 组件
  * 比如：Tab 切换、展开/收起、菜单显示

---

### 四、Vue 编译行为举例

```html
<!-- v-if -->
<div v-if="isShow">Hello</div>

<!-- v-show -->
<div v-show="isShow">Hello</div>
```

编译结果：

* `v-if`：会在 DOM 中完全添加或移除 `<div>` 元素；
* `v-show`：会始终保留 `<div>`，只是在需要隐藏时加上 `style="display: none;"`。

---

### 五、总结一句话（适合面试收尾）

> `v-if` 是真正的条件渲染，适合一次性或偶尔变化的内容；`v-show` 是基于样式控制的显示与隐藏，更适合频繁切换的场景。

---

如果你想加分，可以补充一句：

✅ 在实际项目中，如果不确定选择哪一个，**以切换频率作为判断标准**，频繁切换选 `v-show`，否则选 `v-if`。
