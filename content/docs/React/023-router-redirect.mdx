---
title: å¦‚ä½•åœ¨ React Router ä¸­è®¾ç½®é‡å®šå‘ï¼Ÿ
---

åœ¨ React Router ä¸­è®¾ç½®é‡å®šå‘ï¼ˆRedirectï¼‰å¯ä»¥ç”¨äºåœ¨ç‰¹å®šæ¡ä»¶ä¸‹è‡ªåŠ¨å¯¼èˆªç”¨æˆ·åˆ°å¦ä¸€ä¸ªè·¯ç”±ï¼Œæ¯”å¦‚ï¼š

* ç”¨æˆ·è®¿é—®æ—§è·¯å¾„æ—¶è·³è½¬åˆ°æ–°è·¯å¾„ï¼›
* ç”¨æˆ·æœªç™»å½•æ—¶è·³è½¬åˆ°ç™»å½•é¡µï¼›
* ç™»å½•åè®¿é—® `/login` æ—¶è·³è½¬åˆ°é¦–é¡µã€‚

å…·ä½“æ“ä½œå–å†³äºä½ ä½¿ç”¨çš„æ˜¯å“ªä¸ªç‰ˆæœ¬çš„ React Routerã€‚ä»¥ä¸‹æ˜¯ä¸»æµç‰ˆæœ¬çš„è®¾ç½®æ–¹å¼ã€‚

---

## âœ… React Router v6ï¼ˆæœ€æ–°ç‰ˆï¼‰è®¾ç½®é‡å®šå‘

### ä½¿ç”¨ `<Navigate />` ç»„ä»¶è¿›è¡Œé‡å®šå‘

```jsx
import { Navigate } from 'react-router-dom';

function MyComponent() {
  const isLoggedIn = false;

  if (!isLoggedIn) {
    return <Navigate to="/login" replace />;
  }

  return <div>æ¬¢è¿è®¿é—®ï¼</div>;
}
```

### åœ¨è·¯ç”±é…ç½®ä¸­è®¾ç½®é»˜è®¤é‡å®šå‘

```jsx
import { Routes, Route, Navigate } from 'react-router-dom';

function App() {
  return (
    <Routes>
      <Route path="/" element={<Home />} />
      <Route path="/dashboard" element={<Dashboard />} />
      {/* é‡å®šå‘æ—§è·¯å¾„ */}
      <Route path="/home" element={<Navigate to="/" replace />} />
      {/* æœªåŒ¹é…è·¯å¾„è·³è½¬ */}
      <Route path="*" element={<Navigate to="/" replace />} />
    </Routes>
  );
}
```

---

## âœ… React Router v5ï¼ˆæ—§ç‰ˆï¼‰è®¾ç½®é‡å®šå‘

### ä½¿ç”¨ `<Redirect />` ç»„ä»¶

```jsx
import { Redirect } from 'react-router-dom';

function MyComponent() {
  const isLoggedIn = false;

  return (
    <div>
      {!isLoggedIn && <Redirect to="/login" />}
      <h1>æ¬¢è¿é¡µé¢</h1>
    </div>
  );
}
```

### åœ¨ `<Switch>` ä¸­é…ç½®é‡å®šå‘

```jsx
import { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';

function App() {
  return (
    <Router>
      <Switch>
        <Route path="/dashboard" component={Dashboard} />
        <Route path="/home">
          <Redirect to="/" />
        </Route>
        <Route path="/" exact component={Home} />
        {/* æ‰€æœ‰æœªåŒ¹é…è·¯å¾„ */}
        <Redirect to="/" />
      </Switch>
    </Router>
  );
}
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

* **`replace` vs ä¸å†™ï¼š**

  * `replace` ä¼šæ›¿æ¢å½“å‰æµè§ˆå™¨å†å²è®°å½•ï¼Œä¸ä¼šä¿ç•™è·³è½¬å‰çš„åœ°å€ã€‚
* **`<Navigate />` æ›¿ä»£ `<Redirect />`ï¼š**

  * åœ¨ React Router v6 ä¸­ï¼Œ`<Redirect />` è¢«å¼ƒç”¨äº†ï¼Œç»Ÿä¸€ä½¿ç”¨ `<Navigate />`ã€‚
* **åµŒå¥—è·¯ç”±ä¸­è®¾ç½®é»˜è®¤é‡å®šå‘ï¼š**

  ```jsx
  <Route path="/settings" element={<Settings />}>
    <Route index element={<Navigate to="profile" replace />} />
    <Route path="profile" element={<Profile />} />
  </Route>
  ```

---

## ğŸ” æ€»ç»“

| ç‰ˆæœ¬  | é‡å®šå‘ç»„ä»¶                             |
| --- | --------------------------------- |
| v6+ | `<Navigate to="/path" replace />` |
| v5  | `<Redirect to="/path" />`         |

å¦‚éœ€æˆ‘å¸®ä½ é’ˆå¯¹æŸä¸ªå…·ä½“åœºæ™¯è®¾ç½®é‡å®šå‘ï¼Œå¯ä»¥æŠŠä»£ç ç»“æ„æˆ–éœ€æ±‚è´´å‡ºæ¥ã€‚
