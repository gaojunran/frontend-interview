---
title: React çš„ props.children.map å’Œ JS çš„ map æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆä¼˜å…ˆé€‰æ‹© React çš„ mapï¼Ÿ
---

React ä¸­çš„ `props.children.map` å’Œ JavaScript åŸç”Ÿçš„ `Array.prototype.map` ç¡®å®æœ‰ä¸€äº›å·®å¼‚ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç† React ç»„ä»¶ç»“æ„æ—¶ã€‚æˆ‘ä»¬æ¥è¯¦ç»†è®²è®²å®ƒä»¬çš„åŒºåˆ«ï¼Œä»¥åŠä¸ºä»€ä¹ˆåœ¨ React ä¸­é€šå¸¸å»ºè®®ä½¿ç”¨ `React.Children.map`ï¼ˆè€Œä¸æ˜¯ç›´æ¥ç”¨ `props.children.map`ï¼‰ï¼š

---

## ğŸ§  ä¸€ã€æ ¸å¿ƒåŒºåˆ«æ€»ç»“ï¼š

| é¡¹ç›®   | `props.children.map`           | `React.Children.map`   |
| ---- | ------------------------------ | ---------------------- |
| ç±»å‹è¦æ±‚ | `props.children` å¿…é¡»æ˜¯ä¸€ä¸ªæ•°ç»„       | æ¥å—ä»»æ„ç±»å‹ï¼ˆå•ä¸ªã€æ•°ç»„ã€null ç­‰ï¼‰   |
| å®‰å…¨æ€§  | å¦‚æœä¸æ˜¯æ•°ç»„ä¼šæŠ¥é”™                      | è‡ªåŠ¨å¤„ç†éæ•°ç»„æƒ…å†µ              |
| å…¼å®¹æ€§  | ä¸æ”¯æŒ Fragmentã€null ç­‰ç‰¹æ®Š children | å®Œå…¨å…¼å®¹æ‰€æœ‰åˆæ³• children      |
| å®é™…ç”¨é€” | ç”¨äºä½ **æ˜ç¡®çŸ¥é“ children æ˜¯æ•°ç»„**çš„æƒ…å†µ    | ç”¨äºå¤„ç†ä»»æ„ç»“æ„çš„ childrenï¼Œæ›´ç¨³å¦¥ |

---

## ğŸ§© äºŒã€ä»€ä¹ˆæ˜¯ `props.children`

åœ¨ React ä¸­ï¼š

```jsx
<MyComponent>
  <div>Child 1</div>
  <div>Child 2</div>
</MyComponent>
```

è¿™ä¸¤ä¸ª `<div>` å…ƒç´ ä¼šä½œä¸º `MyComponent` çš„ `props.children` ä¼ å…¥ã€‚

ä½†æ˜¯ï¼`props.children` çš„ç±»å‹å–å†³äºä½ ä¼ äº†å¤šå°‘ä¸ªå…ƒç´ ï¼š

* ä¼  **ä¸€ä¸ªå…ƒç´ ** â†’ `props.children` æ˜¯ä¸€ä¸ª **å¯¹è±¡**ï¼ˆä¸æ˜¯æ•°ç»„ï¼‰
* ä¼  **å¤šä¸ªå…ƒç´ ** â†’ `props.children` æ˜¯ä¸€ä¸ª **æ•°ç»„**
* æ²¡ä¼  â†’ `props.children === null`

è¿™å°±å¯¼è‡´ï¼šä½ ä¸èƒ½å®‰å…¨åœ°ç›´æ¥å¯¹ `props.children.map` æ“ä½œï¼Œé™¤éä½ ç¡®ä¿¡å®ƒä¸€å®šæ˜¯æ•°ç»„ã€‚

---

## ğŸš¨ ä¸‰ã€ä¸ºä»€ä¹ˆä¸è¦ç›´æ¥ç”¨ `props.children.map`

### âŒ é”™è¯¯ç¤ºä¾‹ï¼š

```jsx
function MyComponent(props) {
  return (
    <div>
      {props.children.map(child => <div>{child}</div>)}  // å¦‚æœ props.children æ˜¯å•ä¸ªå…ƒç´ ä¼šæŠ¥é”™
    </div>
  );
}
```

å¦‚æœè°ƒç”¨ç»„ä»¶æ—¶åªå†™äº†ä¸€ä¸ªå­å…ƒç´ ï¼š

```jsx
<MyComponent>
  <span>Only one</span>
</MyComponent>
```

`props.children.map` ä¼šæŠ¥é”™ï¼š**TypeError: props.children.map is not a function**

---

## âœ… å››ã€æ¨èå†™æ³•ï¼šä½¿ç”¨ `React.Children.map`

```jsx
import React from 'react';

function MyComponent(props) {
  return (
    <div>
      {React.Children.map(props.children, child => (
        <div className="child-wrapper">{child}</div>
      ))}
    </div>
  );
}
```

### ğŸ‘ å¥½å¤„ï¼š

* è‡ªåŠ¨å¤„ç†å•ä¸ªå…ƒç´ ã€å¤šä¸ªå…ƒç´ ã€nullã€Fragment ç­‰
* ä¸ä¼šæŠ¥é”™
* ä¿è¯éå†è¡Œä¸ºä¸€è‡´

---

## ğŸ› ï¸ äº”ã€React.Children.map çš„åº•å±‚è¡Œä¸º

```jsx
React.Children.map(children, fn)
```

å®ƒä¼šï¼š

1. è‡ªåŠ¨æŠŠéæ•°ç»„çš„ children å˜æˆæ•°ç»„å¤„ç†ï¼›
2. è‡ªåŠ¨è·³è¿‡ `null` å’Œ `undefined`ï¼›
3. ä¿æŒ `key` çš„ä¸€è‡´æ€§ï¼ˆæ¨èä½ æ‰‹åŠ¨åŠ  keyï¼‰ï¼›
4. æ˜¯å¤„ç† children çš„ **æœ€ä½³å®è·µæ–¹å¼**ã€‚

---

## ğŸ”š å…­ã€ç»“è®º

| é—®é¢˜                                       | ç­”æ¡ˆ                                                     |
| ---------------------------------------- | ------------------------------------------------------ |
| **props.children.map å’Œ JS çš„ map æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ** | `props.children` ä¸ä¸€å®šæ˜¯æ•°ç»„ï¼Œç›´æ¥ç”¨ JS çš„ map ä¸å®‰å…¨ã€‚              |
| **ä¸ºä»€ä¹ˆä¼˜å…ˆé€‰æ‹© React.Children.mapï¼Ÿ**          | æ›´å®‰å…¨ã€æ›´å…¼å®¹ã€æ›´ç¬¦åˆ React çš„å†…éƒ¨å®ç°ï¼Œèƒ½å¤„ç†å„ç§ children æƒ…å†µï¼ˆå•ä¸ªã€æ•°ç»„ã€nullï¼‰ã€‚ |

---

å¦‚æœä½ å†™ç»„ä»¶éœ€è¦å¤„ç†ä¸ç¡®å®šæ•°é‡çš„ childrenï¼Œ**å§‹ç»ˆä¼˜å…ˆä½¿ç”¨ `React.Children.map`ã€‚**

éœ€è¦ç¤ºä¾‹ä»£ç æ¼”ç¤ºä¸åŒæƒ…å†µçš„é”™è¯¯ä¸æ­£ç¡®åšæ³•ï¼Œä¹Ÿå¯ä»¥å‘Šè¯‰æˆ‘ ğŸ‘‡
