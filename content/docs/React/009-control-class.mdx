---
title: åœ¨ React ä¸­ï¼Œå¦‚ä½•æ“ä½œè™šæ‹Ÿ DOM çš„ class å±æ€§ï¼Ÿ
---

åœ¨ React ä¸­ï¼Œ**è™šæ‹Ÿ DOMï¼ˆVirtual DOMï¼‰** æ˜¯ React ç”¨æ¥è¡¨ç¤º UI ç»“æ„çš„ä¸€ç§ JavaScript å¯¹è±¡ï¼Œå¼€å‘è€…ä¸èƒ½ç›´æ¥æ“ä½œè™šæ‹Ÿ DOMï¼Œä½†å¯ä»¥é€šè¿‡ **React æä¾›çš„æ–¹å¼é—´æ¥å½±å“è™šæ‹Ÿ DOM çš„ class å±æ€§**ï¼Œä»è€Œæœ€ç»ˆåæ˜ åˆ°çœŸå® DOM ä¸Šã€‚

ä»¥ä¸‹æ˜¯è¯¦ç»†è®²è§£ï¼š

---

## ğŸ’¡ ä¸€ã€è™šæ‹Ÿ DOM ä¸­çš„ class å±æ€§ç”¨æ³•

åœ¨ React çš„ JSX ä¸­ï¼Œä¸ä½¿ç”¨ä¼ ç»Ÿ HTML çš„ `class`ï¼Œè€Œæ˜¯ä½¿ç”¨ `className`ï¼š

```jsx
<div className="my-class">Hello</div>
```

### ä¸ºä»€ä¹ˆç”¨ `className`ï¼Ÿ

å› ä¸º `class` æ˜¯ JavaScript ä¸­çš„ä¿ç•™å…³é”®å­—ï¼Œè€Œ JSX æœ¬è´¨æ˜¯ JavaScript çš„è¯­æ³•æ‰©å±•ã€‚

---

## ğŸ› ï¸ äºŒã€å¦‚ä½•åŠ¨æ€æ“ä½œ classNameï¼ˆé—´æ¥æ“ä½œè™šæ‹Ÿ DOMï¼‰

React ä¸­ä¿®æ”¹ class å±æ€§çš„æ–¹å¼æ˜¯é€šè¿‡ç»„ä»¶çš„ **çŠ¶æ€ï¼ˆstateï¼‰æˆ–å±æ€§ï¼ˆpropsï¼‰** æ¥å†³å®š className çš„å†…å®¹ï¼š

### 1. åŸºäºæ¡ä»¶æ¸²æŸ“

```jsx
function Button({ isActive }) {
  return (
    <button className={isActive ? 'btn active' : 'btn'}>
      Click Me
    </button>
  );
}
```

### 2. å¤šç±»åæ‹¼æ¥ï¼ˆæ¨¡æ¿å­—ç¬¦ä¸²ï¼‰

```jsx
function Alert({ type }) {
  return (
    <div className={`alert ${type === 'error' ? 'alert-danger' : 'alert-success'}`}>
      Something happened!
    </div>
  );
}
```

### 3. ä½¿ç”¨å·¥å…·åº“ `classnames`

æ¨èç”¨ [`classnames`](https://www.npmjs.com/package/classnames) åŒ…ç®€åŒ–å¤šä¸ª className çš„åˆå¹¶é€»è¾‘ï¼š

```bash
npm install classnames
```

```jsx
import classNames from 'classnames';

function Alert({ type }) {
  const alertClass = classNames('alert', {
    'alert-danger': type === 'error',
    'alert-success': type === 'success',
  });

  return <div className={alertClass}>Something happened!</div>;
}
```

---

## ğŸ§± ä¸‰ã€è™šæ‹Ÿ DOM ä¸çœŸå® DOM çš„å…³ç³»

React å¹¶ä¸ç›´æ¥æ“ä½œçœŸå® DOMï¼Œè€Œæ˜¯ï¼š

1. æ„å»ºä¸€ä¸ªè™šæ‹Ÿ DOMï¼ˆReact Elementï¼‰ã€‚
2. æ¯æ¬¡çŠ¶æ€æ”¹å˜æ—¶ï¼ŒReact ç”Ÿæˆæ–°çš„è™šæ‹Ÿ DOMã€‚
3. React ä½¿ç”¨ **Diff ç®—æ³•** æ‰¾å‡ºå‰åä¸¤ä¸ªè™šæ‹Ÿ DOM çš„å·®å¼‚ã€‚
4. React æœ€ç»ˆå°†å˜æ›´â€œæœ€å°åŒ–â€åœ°åæ˜ åˆ°çœŸå® DOM ä¸Šã€‚

æ‰€ä»¥å½“ä½ å†™ï¼š

```jsx
this.setState({ isActive: true });
```

React ä¼šé‡æ–°æ„å»ºè™šæ‹Ÿ DOMï¼Œç„¶åè‡ªåŠ¨æ ¹æ® `className` çš„æ–°å€¼æ›´æ–°çœŸå® DOMã€‚

---

## ğŸ§© å››ã€className çš„å¸¸è§è¿›é˜¶ç”¨æ³•

### 1. é…åˆ `useState` æ§åˆ¶ class

```jsx
function Toggle() {
  const [on, setOn] = React.useState(false);

  return (
    <div className={on ? 'on' : 'off'} onClick={() => setOn(!on)}>
      Toggle me
    </div>
  );
}
```

### 2. ç»“åˆ TailwindCSS ç­‰å·¥å…·ç±»åº“

```jsx
<div className={`p-4 ${isError ? 'bg-red-500' : 'bg-green-500'}`}>
  Alert!
</div>
```

---

## âœ… æ€»ç»“

| æ“ä½œæ–¹å¼        | æ˜¯å¦ç›´æ¥æ“ä½œè™šæ‹Ÿ DOM | å®ç°æ‰‹æ®µ                   |
| ----------- | ------------ | ---------------------- |
| ä¿®æ”¹ class å±æ€§ | âŒï¼ˆä¸èƒ½ç›´æ¥æ“ä½œï¼‰    | âœ… é€šè¿‡ JSX çš„ `className` |
| åŠ¨æ€ class    | âœ…            | çŠ¶æ€ã€propsã€æ¡ä»¶è¡¨è¾¾å¼         |
| å·¥å…·åº“è¾…åŠ©       | âœ…            | `classnames` ç­‰         |

> React çš„è®¾è®¡åŸåˆ™å°±æ˜¯è®©ä½ â€œå£°æ˜å¼â€åœ°æè¿° UIï¼Œè€Œä¸æ˜¯â€œå‘½ä»¤å¼â€åœ°æ“ä½œ DOMã€‚

å¦‚ä½ éœ€è¦æ“ä½œçœŸå® DOM class å±æ€§ï¼ˆä¾‹å¦‚åŠ¨ç”»æ§åˆ¶ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ `ref` é…åˆ `classList`ï¼š

```jsx
const ref = useRef();
useEffect(() => {
  ref.current.classList.add("fade-in");
}, []);
```

ä½†è¿™å±äºâ€œé€ƒé€¸â€ React çš„è™šæ‹Ÿ DOM ç®¡ç†ï¼Œä¸æ¨èå¤§é‡ä½¿ç”¨ã€‚

---

å¦‚éœ€å…·ä½“æ ·ä¾‹æˆ–é…åˆæŸä¸ªåº“ï¼ˆå¦‚ Tailwindã€CSS Modulesã€Styled Componentsï¼‰æ“ä½œ classï¼Œå¯ç»§ç»­æé—®ã€‚
