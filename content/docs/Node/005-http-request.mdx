---
title: 如何使用 Node.js 发送 HTTP 请求？比如 GET 和 POST 请求？
---

在 Node.js 中发送 HTTP 请求有多种方式，最常用的是：

---

### ✅ 方式一：使用原生模块 `http` 或 `https`（不推荐，写法麻烦）

Node.js 内建了 `http` 和 `https` 模块，可以直接发送请求，但语法繁琐，不支持 Promise，需要手动处理数据拼接。

#### 示例：GET 请求

```js
const http = require('http');

const options = {
  hostname: 'example.com',
  port: 80,
  path: '/',
  method: 'GET'
};

const req = http.request(options, res => {
  let data = '';
  
  res.on('data', chunk => {
    data += chunk;
  });

  res.on('end', () => {
    console.log('响应数据：', data);
  });
});

req.on('error', error => {
  console.error('请求出错：', error);
});

req.end();
```

---

#### 示例：POST 请求

```js
const http = require('http');

const postData = JSON.stringify({ name: 'Alice', age: 30 });

const options = {
  hostname: 'example.com',
  port: 80,
  path: '/submit',
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Content-Length': Buffer.byteLength(postData)
  }
};

const req = http.request(options, res => {
  let data = '';

  res.on('data', chunk => {
    data += chunk;
  });

  res.on('end', () => {
    console.log('响应数据：', data);
  });
});

req.on('error', error => {
  console.error(error);
});

req.write(postData);
req.end();
```

---

### ✅ 方式二：使用第三方库 `axios`（推荐 ⭐）

`axios` 是最流行的 HTTP 客户端，基于 Promise，语法清晰，支持请求拦截、自动解析 JSON 等功能。

#### 安装：

```bash
npm install axios
```

#### 示例：GET 请求

```js
const axios = require('axios');

axios.get('https://jsonplaceholder.typicode.com/posts/1')
  .then(response => {
    console.log('数据：', response.data);
  })
  .catch(error => {
    console.error('出错：', error);
  });
```

#### 示例：POST 请求

```js
const axios = require('axios');

axios.post('https://jsonplaceholder.typicode.com/posts', {
  title: 'foo',
  body: 'bar',
  userId: 1
})
.then(response => {
  console.log('返回数据：', response.data);
})
.catch(error => {
  console.error('出错：', error);
});
```

---

### ✅ 方式三：使用 `fetch`（Node 18+ 原生支持）

Node.js 从 v18 开始原生支持 `fetch`，这是浏览器中常见的接口，语法类似：

#### 示例：GET 请求

```js
const response = await fetch('https://jsonplaceholder.typicode.com/posts/1');
const data = await response.json();
console.log(data);
```

#### 示例：POST 请求

```js
const response = await fetch('https://jsonplaceholder.typicode.com/posts', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    title: 'foo',
    body: 'bar',
    userId: 1
  })
});

const data = await response.json();
console.log(data);
```

如果你用的是 Node.js 18 以下的版本，可以使用 `node-fetch` 来获得类似的功能：

```bash
npm install node-fetch
```

---

### ✅ 总结

| 方法               | 是否推荐  | 特点                       |
| ---------------- | ----- | ------------------------ |
| `http` / `https` | ❌ 不推荐 | 原生、低级、回调风格               |
| `axios`          | ✅ 推荐  | 高级功能丰富，支持 Promise、拦截器等   |
| `fetch`          | ✅ 推荐  | 简洁、现代风格，Node.js 18+ 原生支持 |

如果你要写现代的项目，**推荐优先使用 `axios` 或 `fetch`**。

---

是否需要我帮你写一个完整的例子，比如用 `axios` 调用一个公开 API？
