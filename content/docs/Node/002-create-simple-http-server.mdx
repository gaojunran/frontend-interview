---
title: 如何在 Node.js 中创建一个简单的 HTTP 服务器？
---

在 Node.js 中创建一个简单的 HTTP 服务器是非常直接的。Node.js 自带了一个内建模块叫做 `http`，它允许你创建一个可以接收客户端请求并返回响应的服务器。

下面我将一步步讲解如何创建这个 HTTP 服务器。

---

## 🧱 第一步：创建文件

创建一个文件，比如叫做 `server.js`：

```bash
touch server.js
```

---

## 📦 第二步：引入 `http` 模块

Node.js 内置模块 `http` 不需要额外安装，直接 `require`：

```js
const http = require('http');
```

---

## 🏗️ 第三步：创建服务器

使用 `http.createServer()` 方法来创建服务器，这个方法接受一个回调函数，这个回调函数有两个参数：

* `req`：客户端请求（request）对象
* `res`：服务器响应（response）对象

示例代码如下：

```js
const server = http.createServer((req, res) => {
  // 设置响应头，200 是状态码，Content-Type 是内容类型
  res.writeHead(200, { 'Content-Type': 'text/plain' });

  // 向客户端发送响应内容
  res.end('Hello, World!\n');
});
```

---

## 🌐 第四步：监听端口

你需要让服务器监听某个端口，比如 3000：

```js
server.listen(3000, () => {
  console.log('Server is running at http://localhost:3000/');
});
```

---

## ✅ 完整代码示例

```js
const http = require('http');

// 创建 HTTP 服务器
const server = http.createServer((req, res) => {
  console.log(`收到请求: ${req.method} ${req.url}`);

  res.writeHead(200, { 'Content-Type': 'text/plain' });
  res.end('Hello, World!\n');
});

// 启动服务器并监听 3000 端口
server.listen(3000, () => {
  console.log('Server is running at http://localhost:3000/');
});
```

---

## 🚀 启动服务器

在终端运行这个文件：

```bash
node server.js
```

然后你打开浏览器，访问：

```
http://localhost:3000/
```

你会看到页面上显示 `Hello, World!`，终端也会打印收到的请求信息。

---

## 🔍 可选扩展功能（进阶）

你可以根据 `req.url` 来返回不同的内容，比如：

```js
const server = http.createServer((req, res) => {
  if (req.url === '/') {
    res.writeHead(200, { 'Content-Type': 'text/html' });
    res.end('<h1>主页</h1>');
  } else if (req.url === '/about') {
    res.writeHead(200, { 'Content-Type': 'text/html' });
    res.end('<h1>关于我们</h1>');
  } else {
    res.writeHead(404, { 'Content-Type': 'text/plain' });
    res.end('404 Not Found');
  }
});
```

---

## 📌 总结

| 步骤  | 内容                           |
| --- | ---------------------------- |
| 1️⃣ | 创建 `server.js` 文件            |
| 2️⃣ | 引入 `http` 模块                 |
| 3️⃣ | 使用 `http.createServer` 创建服务器 |
| 4️⃣ | 使用 `server.listen` 监听端口      |
| ✅   | 使用浏览器或 curl 测试访问             |

---

如果你有兴趣继续深入，可以了解如何使用 `express.js` 来简化路由和响应处理。是否要我顺便讲一下？
