---
title: å¦‚ä½•åœ¨ Node.js ä¸­å¯¹ base64 è¿›è¡Œç¼–è§£ç ï¼Ÿ
---

åœ¨ Node.js ä¸­ï¼Œè¿›è¡Œ Base64 ç¼–ç ï¼ˆencodeï¼‰å’Œè§£ç ï¼ˆdecodeï¼‰éå¸¸ç®€å•ï¼Œä¸»è¦ä½¿ç”¨å†…ç½®çš„ `Buffer` ç±»å³å¯ï¼Œæ— éœ€å®‰è£…ä»»ä½•é¢å¤–æ¨¡å—ã€‚

---

## âœ… ä»€ä¹ˆæ˜¯ Base64ï¼Ÿ

Base64 æ˜¯ä¸€ç§æŠŠ **äºŒè¿›åˆ¶æ•°æ®ç¼–ç æˆ ASCII å­—ç¬¦ä¸²** çš„æ–¹æ³•ã€‚å¸¸ç”¨äºï¼š

* å›¾ç‰‡ã€éŸ³é¢‘ç­‰äºŒè¿›åˆ¶æ•°æ®çš„æ–‡æœ¬è¡¨ç¤º
* ç½‘ç»œä¼ è¾“ï¼ˆå¦‚ HTTPã€é‚®ä»¶ï¼‰
* JWTã€OAuth ç­‰ token ç¼–ç 

---

## âœ¨ Node.js ä¸­çš„ Base64 ç¼–è§£ç æ–¹å¼

Node.js çš„ `Buffer` ç±»åŸç”Ÿæ”¯æŒ Base64 ç¼–è§£ç ã€‚

### âœ… ç¼–ç ï¼ˆEncodeï¼‰ç¤ºä¾‹

```js
const str = 'Hello, ä¸–ç•Œ'; // åŸå§‹å­—ç¬¦ä¸²

// å°†å­—ç¬¦ä¸²ç¼–ç ä¸º base64
const base64 = Buffer.from(str, 'utf-8').toString('base64');

console.log(base64); // è¾“å‡º: SGVsbG8sIOS4lueVjA==
```

**è¯´æ˜**ï¼š

* `Buffer.from(str, 'utf-8')`ï¼šå°†å­—ç¬¦ä¸²ç¼–ç ä¸º UTF-8 äºŒè¿›åˆ¶
* `.toString('base64')`ï¼šå°† Buffer è½¬æ¢ä¸º base64 å­—ç¬¦ä¸²

---

### âœ… è§£ç ï¼ˆDecodeï¼‰ç¤ºä¾‹

```js
const base64 = 'SGVsbG8sIOS4lueVjA==';

// å°† base64 è§£ç ä¸ºåŸå§‹å­—ç¬¦ä¸²
const decoded = Buffer.from(base64, 'base64').toString('utf-8');

console.log(decoded); // è¾“å‡º: Hello, ä¸–ç•Œ
```

**è¯´æ˜**ï¼š

* `Buffer.from(base64, 'base64')`ï¼šå°† base64 å­—ç¬¦ä¸²è½¬æ¢ä¸º Bufferï¼ˆäºŒè¿›åˆ¶ï¼‰
* `.toString('utf-8')`ï¼šå°† Buffer è§£ç ä¸ºå­—ç¬¦ä¸²

---

## ğŸ§ª ç¼–è§£ç ä»»æ„æ•°æ®ï¼ˆå¦‚å›¾ç‰‡ã€æ–‡ä»¶ç­‰ï¼‰

ä½ ä¹Ÿå¯ä»¥å¯¹å›¾ç‰‡ã€æ–‡ä»¶ç­‰äºŒè¿›åˆ¶æ•°æ®è¿›è¡Œ Base64 ç¼–è§£ç ï¼š

### ç¼–ç æ–‡ä»¶ä¸º Base64

```js
const fs = require('fs');

const data = fs.readFileSync('example.png');
const base64 = data.toString('base64');

console.log(base64); // è¾“å‡º base64 å­—ç¬¦ä¸²
```

### è§£ç  Base64 å¹¶å†™å…¥æ–‡ä»¶

```js
const fs = require('fs');

const base64 = '...'; // base64 å­—ç¬¦ä¸²
const buffer = Buffer.from(base64, 'base64');

fs.writeFileSync('output.png', buffer); // å†™å…¥ä¸ºå›¾ç‰‡
```

---

## ğŸ“ å¸¸è§ç”¨é€”åœºæ™¯

* å‰ç«¯ä¼ æ¥çš„å›¾ç‰‡ base64 ç¼–ç 
* åç«¯ç”Ÿæˆ JWT Token
* ç½‘ç»œæ¥å£ä¼ è¾“å°å‹æ–‡ä»¶

---

## ğŸ” æ³¨æ„äº‹é¡¹

1. **Base64 ä¼šå¢åŠ çº¦ 33% çš„ä½“ç§¯**ï¼Œä¸é€‚åˆä¼ è¾“å¤§æ–‡ä»¶ã€‚
2. `Buffer` æ˜¯ Node.js å†…ç½®æ¨¡å—ï¼Œæ— éœ€å¯¼å…¥ç¬¬ä¸‰æ–¹åº“ã€‚
3. UTF-8 æ˜¯æœ€å¸¸ç”¨çš„å­—ç¬¦ä¸²ç¼–ç æ–¹å¼ï¼Œé™¤éç‰¹æ®Šéœ€æ±‚ä¸å»ºè®®æ›´æ”¹ã€‚

---

å¦‚æœä½ æœ‰å…·ä½“çš„ä½¿ç”¨åœºæ™¯ï¼ˆå¦‚å¤„ç† JSONã€å›¾ç‰‡ã€æ–‡ä»¶ã€è¯·æ±‚ä½“ç­‰ï¼‰ï¼Œæˆ‘å¯ä»¥é’ˆå¯¹æ€§æä¾›ç¤ºä¾‹ã€‚
