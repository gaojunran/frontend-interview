---
title: 如何在 Node.js 中对 base64 进行编解码？
---

在 Node.js 中，进行 Base64 编码（encode）和解码（decode）非常简单，主要使用内置的 `Buffer` 类即可，无需安装任何额外模块。

---

## ✅ 什么是 Base64？

Base64 是一种把 **二进制数据编码成 ASCII 字符串** 的方法。常用于：

* 图片、音频等二进制数据的文本表示
* 网络传输（如 HTTP、邮件）
* JWT、OAuth 等 token 编码

---

## ✨ Node.js 中的 Base64 编解码方式

Node.js 的 `Buffer` 类原生支持 Base64 编解码。

### ✅ 编码（Encode）示例

```js
const str = 'Hello, 世界'; // 原始字符串

// 将字符串编码为 base64
const base64 = Buffer.from(str, 'utf-8').toString('base64');

console.log(base64); // 输出: SGVsbG8sIOS4lueVjA==
```

**说明**：

* `Buffer.from(str, 'utf-8')`：将字符串编码为 UTF-8 二进制
* `.toString('base64')`：将 Buffer 转换为 base64 字符串

---

### ✅ 解码（Decode）示例

```js
const base64 = 'SGVsbG8sIOS4lueVjA==';

// 将 base64 解码为原始字符串
const decoded = Buffer.from(base64, 'base64').toString('utf-8');

console.log(decoded); // 输出: Hello, 世界
```

**说明**：

* `Buffer.from(base64, 'base64')`：将 base64 字符串转换为 Buffer（二进制）
* `.toString('utf-8')`：将 Buffer 解码为字符串

---

## 🧪 编解码任意数据（如图片、文件等）

你也可以对图片、文件等二进制数据进行 Base64 编解码：

### 编码文件为 Base64

```js
const fs = require('fs');

const data = fs.readFileSync('example.png');
const base64 = data.toString('base64');

console.log(base64); // 输出 base64 字符串
```

### 解码 Base64 并写入文件

```js
const fs = require('fs');

const base64 = '...'; // base64 字符串
const buffer = Buffer.from(base64, 'base64');

fs.writeFileSync('output.png', buffer); // 写入为图片
```

---

## 📝 常见用途场景

* 前端传来的图片 base64 编码
* 后端生成 JWT Token
* 网络接口传输小型文件

---

## 🔐 注意事项

1. **Base64 会增加约 33% 的体积**，不适合传输大文件。
2. `Buffer` 是 Node.js 内置模块，无需导入第三方库。
3. UTF-8 是最常用的字符串编码方式，除非特殊需求不建议更改。

---

如果你有具体的使用场景（如处理 JSON、图片、文件、请求体等），我可以针对性提供示例。
